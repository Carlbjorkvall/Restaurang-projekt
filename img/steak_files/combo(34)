YUI.add("hermes-template-footer-full",function(t,a){var e=t.Template.Handlebars.revive({1:function(t,a,e,l,n){return" sohp"},3:function(t,a,e,l,n){var s,i=null!=a?a:{},o=e.helperMissing,c=t.escapeExpression;return'\t\t\t\t\t<li class="foot-li privacy-item"><a href="/help/privacy">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:n}))+'</a></li>\n\t\t\t\t\t<li class="foot-li terms-item"><a href="/help/terms">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:n}))+"</a></li>\n"+(null!=(s=(e.isFlipped||a&&a.isFlipped||o).call(i,"enable-cookie-consent-execution-hermes",{name:"isFlipped",hash:{},fn:t.program(4,n,0),inverse:t.noop,data:n}))?s:"")},4:function(t,a,e,l,n){return'\t\t\t\t\t\t<li class="foot-li trustarc-cookie-pref-butt"><a>'+t.escapeExpression((e.intlMessage||a&&a.intlMessage||e.helperMissing).call(null!=a?a:{},{name:"intlMessage",hash:{intlName:"policy-terms.COOKIES"},data:n}))+"</a></li>\n"},6:function(t,a,e,l,n){return'\t\t\t\t\t<li class="foot-li footer-company-item">\n\t\t\t\t\t\t<div class="foot-company">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t'+t.escapeExpression((e.intlHTMLMessage||a&&a.intlHTMLMessage||e.helperMissing).call(null!=a?a:{},{name:"intlHTMLMessage",hash:{flickrUrl:"/",smugUrl:"https://www.smugmug.com/",intlName:"common.SMUG_FLICKR_FOOTER_ATTRIBUTION"},data:n}))+"\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n"},8:function(t,a,e,l,n){var s=null!=a?a:{},i=e.helperMissing,o=t.escapeExpression;return'\t\t\t\t<div class="foot-company">\n\t\t\t\t\t<span class="foot-attribution">\n\t\t\t\t\t\t'+o((e.intlHTMLMessage||a&&a.intlHTMLMessage||i).call(s,{name:"intlHTMLMessage",hash:{flickrUrl:"/",smugUrl:"https://www.smugmug.com/",intlName:"common.SMUG_FLICKR_FOOTER_ATTRIBUTION"},data:n}))+'\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class="foot-message">\n\t\t\t\t\t\t'+o((e.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"common.CONNECTING_PEOPLE_THROUGH_PHOTOGRAPHY"},data:n}))+"\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n"},10:function(t,a,e,l,n){return'\t\t\t\t<div class="foot-company empty">\n\t\t\t\t\t&nbsp;\n\t\t\t\t</div>\n'},compiler:[7,">= 4.0.0"],main:function(t,a,e,l,n){var s,i=null!=a?a:{},o=e.helperMissing,c=t.escapeExpression,r=t.lambda;return'<div class="foot-banner-container"></div>\n\n<footer class="foot'+(null!=(s=e.if.call(i,null!=a?a.isSOHP:a,{name:"if",hash:{},fn:t.program(1,n,0),inverse:t.noop,data:n}))?s:"")+'">\n\t<div class="foot-container desktop-layout" role="contentinfo">\n\t\t<div class="foot-top-row">\n\t\t\t<ul class="foot-top-nav foot-nav-ul">\n\t\t\t\t<li class="foot-li"><a href="/about">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/jobs">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.JOBS"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="//blog.flickr.net/en">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.BLOG"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/services/developer">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.DEVELOPERS"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/guidelines">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.GUIDELINES"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-privacy-item"><a href="/help/privacy">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-terms-item"><a href="/help/terms">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-help-item"><a href="//help.flickr.com">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.HELP"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-report-item"><a href="/abuse">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.REPORT_ABUSE"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/forum">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.HELP_FORUM"},data:n}))+"</a></li>\n"+(null!=(s=e.if.call(i,null!=a?a.isSOHP:a,{name:"if",hash:{},fn:t.program(3,n,0),inverse:t.noop,data:n}))?s:"")+'\t\t\t\t<li class="foot-li lang-switcher">\n\t\t\t\t\t<a href="/change_language.gne?lang='+c(r(null!=(s=null!=a?a.selectedLang:a)?s.code:s,a))+"&csrf="+c(r(null!=(s=null!=a?a.selectedLang:a)?s.csrf:s,a))+'">'+c(r(null!=(s=null!=a?a.selectedLang:a)?s.name:s,a))+'</a>\n\t\t\t\t\t<span class="arrow"></span>\n\t\t\t\t</li>\n'+(null!=(s=e.if.call(i,null!=a?a.showCompany:a,{name:"if",hash:{},fn:t.program(6,n,0),inverse:t.noop,data:n}))?s:"")+'\t\t\t\t<li class="foot-li footer-social-item">\n\t\t\t\t\t<div class="foot-social">\n\t\t\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t\t\t</a></li>\n\t\t\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram">\n\t\t\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="foot-bottom-row">\n\t\t\t<div class="foot-row-content">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li class="foot-li"><a href="/help/privacy">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:n}))+'</a></li>\n\t\t\t\t\t<li class="foot-li"><a href="/help/terms">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:n}))+"</a></li>\n"+(null!=(s=(e.isFlipped||a&&a.isFlipped||o).call(i,"enable-cookie-consent-execution-hermes",{name:"isFlipped",hash:{},fn:t.program(4,n,0),inverse:t.noop,data:n}))?s:"")+"\t\t\t\t</ul>\n\t\t\t</div>\n\n"+(null!=(s=e.if.call(i,null!=a?a.showCompany:a,{name:"if",hash:{},fn:t.program(8,n,0),inverse:t.program(10,n,0),data:n}))?s:"")+'\n\t\t\t<div class="foot-social">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook">\n\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter">\n\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram">\n\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="foot-container mobile-layout">\n\t\t<div class="foot-top-row">\n\t\t\t<ul class="foot-top-nav foot-nav-ul">\n\t\t\t\t<li class="foot-li"><a href="/about">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/jobs">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.JOBS"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="//blog.flickr.net/en">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.BLOG"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/services/developer">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.DEVELOPERS"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/guidelines">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.GUIDELINES"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-report-item"><a href="/abuse">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.REPORT_ABUSE"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-privacy-item"><a href="/help/privacy">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li footer-terms-item"><a href="/help/terms">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li"><a href="/help/forum">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.HELP_FORUM"},data:n}))+'</a></li>\n\t\t\t\t<li class="foot-li lang-switcher">\n\t\t\t\t\t<a href="/change_language.gne?lang='+c(r(null!=(s=null!=a?a.selectedLang:a)?s.code:s,a))+"&csrf="+c(r(null!=(s=null!=a?a.selectedLang:a)?s.csrf:s,a))+'">'+c(r(null!=(s=null!=a?a.selectedLang:a)?s.name:s,a))+'</a>\n\t\t\t\t\t<span class="arrow"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class="foot-bottom-row">\n\t\t\t<div class="foot-row-content">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li class="foot-li"><a href="/help/privacy">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:n}))+'</a></li>\n\t\t\t\t\t<li class="foot-li"><a href="/help/terms">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:n}))+"</a></li>\n"+(null!=(s=(e.isFlipped||a&&a.isFlipped||o).call(i,"enable-cookie-consent-execution-hermes",{name:"isFlipped",hash:{},fn:t.program(4,n,0),inverse:t.noop,data:n}))?s:"")+'\t\t\t\t\t<li class="foot-li footer-help-item"><a href="//help.flickr.com">'+c((e.intlMessage||a&&a.intlMessage||o).call(i,{name:"intlMessage",hash:{intlName:"common.HELP"},data:n}))+"</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n"+(null!=(s=e.if.call(i,null!=a?a.showCompany:a,{name:"if",hash:{},fn:t.program(8,n,0),inverse:t.program(10,n,0),data:n}))?s:"")+'\n\t\t\t<div class="foot-social">\n\t\t\t\t<ul class="foot-nav-ul">\n\t\t\t\t\t<li><a target="_blank" href="https://www.facebook.com/flickr" aria-label="Facebook">\n\t\t\t\t\t\t<svg class="ft-icon ft-facebook"><use xlink:href="#icon-facebook"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://twitter.com/flickr" aria-label="Twitter">\n\t\t\t\t\t\t<svg class="ft-icon ft-twitter"><use xlink:href="#icon-twitter"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t\t<li><a target="_blank" href="https://www.instagram.com/flickr/" aria-label="Instagram">\n\t\t\t\t\t\t<svg class="ft-icon ft-instagram"><use xlink:href="#icon-instagram"></use></svg>\n\t\t\t\t\t</a></li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</footer>\n'},useData:!0}),l={};t.Array.each([],function(a){var e=t.Template.get("hermes/"+a);e&&(l[a]=e)}),t.Template.register("hermes/footer-full",function(a,n){return n=n||{},n.partials=n.partials?t.merge(l,n.partials):l,e(a,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("dropdown",function(e){"use strict";var t;t={css:{closed:"ui-dropdown-closed",shim:"ui-dropdown-shim",label:'span[data-action="toggle"]',items:"[data-value]",itemSelected:"ui-dropdown-item-selected",hasDialogArrow:"ui-dropdown-has-dialog-arrow",dialogArrow:"ui-dialog-arrow",useCheckMarks:"ui-dropdown-use-checkboxes"},options:{hasDialogArrow:!1,useCheckMarks:!1}},e.namespace("Views").Dropdown=e.Base.create("Dropdown",e.FlickrView,[],{initializer:function(e){!1!==e.activate&&this.activate()},activate:function(){var s,i=this,a=this.get("container");if(this.close(),this._items={},e.Lang.isArray(this.get("selected"))||this.set("selected",[this.get("selected")]),a.all(t.css.items).each(function(e){var t=e.getData();i._items[t.value]={text:t.text||'no data-text for "'+t.value+'"',sub:t.sub,node:e}}),this.labelEl=a.one(t.css.label),this.labelEl||(this.labelEl=e.Node.create('<span class="truncate" data-action="toggle" tabindex="0" aria-haspopup="true" aria-expanded="false" />'),a.insert(this.labelEl,0)),(s=this.get("staticLabel")||this.get("defaultLabel"))&&(!0===s?this.labelEl.set("text","set staticLabel/defaultLabel to a string, not `true`"):this.labelEl.set("text",s)),this.get("hasDialogArrow")&&!a.hasClass(t.css.hasDialogArrow)&&a.addClass(t.css.hasDialogArrow),a.hasClass(t.css.hasDialogArrow)&&(this.dialogArrowEl=a.one(t.css.dialogArrow),this.dialogArrowEl||(this.dialogArrowEl=e.Node.create('<span class="ui-dialog-arrow" />'),a.insert(this.dialogArrowEl,1))),this.get("useCheckMarks")&&!a.hasClass(t.css.useCheckMarks)&&a.addClass(t.css.useCheckMarks),this.select(),this.get("disabled"))return this.disable();this.attachEvents({":toggle":this.toggle.bind(this),":set":this.setData.bind(this)}),this.registerEventHandler(this.labelEl.on("key",this.toggle,"down:13",this)),this.registerEventHandler(this.labelEl.on("key",this.enterDropdown,"down:40",this));var l=this.labelEl.next("ul");l&&(this.registerEventHandler(l.on("keydown",this.keyboardNavigation,this)),this.registerEventHandler(l.delegate("key",function(e){document.activeElement.dataset&&this.setData(e,document.activeElement.dataset)},"down:13","li",this)))},setData:function(t,s){if(t.halt(),!this.get("multiSelect")&&!this.get("multiSelectSub")&&e.Array.indexOf(this.get("selected"),s.value)>=0)return this.close();this.select(s.value,s)},select:function(s,i,a){var l,n=this,h=s?this._items[s]:null,o=!0,c=[];h&&e.Array.indexOf(this.get("selected"),s)>=0&&(this.get("multiSelect")||this.get("multiSelectSub"))?(c=this.get("selected"),!h.sub&&this.get("multiSelect")&&c.length>this.get("minimumSelected")?(c.splice(e.Array.indexOf(this.get("selected"),s),1),o=!1):h.sub&&(c.splice(e.Array.indexOf(this.get("selected"),s),1),o=!1),this.set("selected",c)):h&&(h.sub?(c.push(s),this.get("selectParent")&&c.push(h.sub),e.Array.each(this.get("selected"),function(e){n._items[e].sub===h.sub?c.push(e):n.get("multiSelect")&&!n._items[e].sub&&c.push(e)})):this.get("multiSelect")?(c=this.get("selected")).push(s):c.push(s),this.set("selected",c)),a||this.close(),l={clicked:h?{text:h.text,value:s,sub:h.sub,itemEl:h.node,isChecked:o}:null,data:i,selections:c},this.fire("selected",l),this.update(s,l,t)},update:function(t,s,i){var a=this,l=s.clicked,n=this.get("selected"),h=this.get("defaultLabel")||"[Unable to select a default item]";this.get("staticLabel")||(this.get("labelFunction")?h=this.get("labelFunction").apply(this,[t]):l?h=s.data&&s.data.text&&s.data.text!==l.text?s.data.text:l.text:n.length>0&&a._items[n[0]]&&(h=a._items[n[0]].text),this.labelEl.set("textContent",h||"[!empty data-text!]")),this.get("container").all(i.css.items).removeClass(i.css.itemSelected),e.Array.each(n,function(e){a._items[e]&&a._items[e].node.addClass(i.css.itemSelected)})},toggle:function(e){e&&e.halt(),this._open?this.close(e):this.open(e)},open:function(e){var s=this.get("container"),i=0;this._open=!0,this.get("shouldCreateShim")&&this._shimUp(),s.removeClass(t.css.closed),this.get("autoSizeMenu")&&(i=parseInt(this.labelEl.getComputedStyle("width"),10))+30>parseInt(s.one("ul").getComputedStyle("width"),10)&&s.one("ul").setStyles({width:i+30}),e&&e.silent||this.fire("open",e);var a=s.one("span:first-child");a&&a.setAttribute("aria-expanded","true")},close:function(e){var s=this.get("container");e&&e.halt(),this._open=!1,this._shimUp(!1),this.fire("close",e),s.addClass(t.css.closed);var i=this.labelEl;i&&i.setAttribute("aria-expanded","false")},enterDropdown:function(e){e.preventDefault();var t=this.labelEl.next("ul").one("li");t&&t.focus()},keyboardNavigation:function(e){var t=e.keyCode,s=38===t||9===t&&e.shiftKey,i=40===t||9===t&&!e.shiftKey,a=e.target.ancestor("li",!0);s&&a&&a.previous("li")?(e.preventDefault(),this.focusOnPreviousItem(e)):i?(e.preventDefault(),a&&a.next("li")&&this.focusOnNextItem(e)):(27===t||s)&&(e.preventDefault(),this.labelEl&&(this.labelEl.focus(),this.close()))},focusOnPreviousItem:function(e){var t=e.target.ancestor("li",!0);if(t){var s=t.previous("li");s&&(s.one("a")?s.one("a").focus():s.focus())}},focusOnNextItem:function(e){var t=e.target.ancestor("li",!0);if(t){var s=t.next("li");s&&(s.one("a")?s.one("a").focus():s.focus())}},_shimUp:function(s){if(!1===s){if(!this._shim)return;return this._shim.detach("click").remove(),void(this._shim=null)}this._shim=e.Node.create("<div />"),this._shim.addClass(t.css.shim),this._shim.on("click",this.close.bind(this)),this.get("container").appendChild(this._shim)},disable:function(){var e=this.get("container");this.set("disabled",!0),this.close(),e.addClass(t.css.disabled),e.detach()},destructor:function(){this._shimUp(!1),this._items=null,this.labelEl=null,this.set("selected",null),this.detachAll()}},{ATTRS:{selected:{value:[]},disabled:{value:!1},hasDialogArrow:{value:!1},useCheckMarks:{value:!1},multiSelect:{value:!1},multiSelectSub:{value:!1},selectParent:{value:!0},minimumSelected:{value:0},staticLabel:{value:!1},defaultLabel:{value:!1},labelFunction:function(){},shouldCreateShim:{value:!0},autoSizeMenu:{value:!0}}})},"@VERSION@",{requires:["flickr-view"]});YUI.add("footer-helper",function(e,n){require("hermes-core/flog")(n);var r=["en-US","zh-HK","de-DE","es-US","fr-FR","ko-KR","it-IT","pt-BR","vn-VN","id-ID"],o={"en-US":"English","de-DE":"Deutsch","es-US":"Español","fr-FR":"Français","ko-KR":"한글","it-IT":"Italiano","pt-BR":"Português","vn-VN":"Tiếng Việt","id-ID":"Bahasa Indonesia","zh-HK":"繁體中文"};e.FooterHelper=function(n,a){var t,s,i,d,u,c=[],l=n.lang;for(d=n.auth&&n.auth.csrf?n.auth.csrf:"","vi-vn"===l.toLowerCase()&&(l="vn-VN"),u={code:l,name:o[l],csrf:d},s=0,i=r.length;s<i;s++)r[s]!==l&&"string"==typeof r[s]&&c.push({code:r[s].toLowerCase(),name:o[r[s]],csrf:d});t=c.map(function(e){return{href:"/change_language.gne?lang="+e.code+"&csrf="+e.csrf,text:e.name}});var f={createDropAround:function(r,o){var a,s;(s=r.one("a")).addClass("dimmed"),(a=new e.Views.FluidDroparound({anchorOffsetHorizontal:15,appContext:n,showDropArrow:!0,observePageResize:!0,dismissOnOverlayClick:!0,anchorElement:r.one(".arrow"),classList:"lang-droparound",menuItems:t})).show(),o.registerEventHandler(a.on("closeDroparound",function(e){s.removeClass("dimmed")}))},getTemplateParams:function(){return{selectedLang:u,helpLocaleKey:u.code.replace("-","_")||"en_US",menuLangs:c}}};return e.augment(f,e.EventTarget),f}},"@VERSION@",{requires:["dropdown","fluid-droparound-view","event-custom"]});YUI.add("footer-full-view",function(e){e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return""===this.get("container").get("innerHTML")&&this.setContainerHTML('<div class="footer-full-content"></div>'),this.footerHelper=new e.FooterHelper(this.appContext,{}),this.appStateParams=t,this},buildContainer:function(){var t;return this.get("viewer")&&e.merge(this.get("viewer").toJSON(),{urls:e.URLHelper.generatePersonUrls(this.get("viewer"))}),t=this.footerHelper.getTemplateParams(),t.showCompany="en-us"===this.appContext.lang.toLowerCase(),t.isSOHP=this.appStateParams.isSOHP,YUI.Env.isServer?t.pageUrl=this.appContext.request.url:t.pageUrl=window.location.pathname,this.setContainerWithTemplate("footer-full",t),this},activate:function(){var t,n=this,i=this.get("container");return this.registerEventHandler(i.delegate("click",function(e){t=e.target.ancestor(".lang-switcher",!0),e.preventDefault(),n.footerHelper.createDropAround(t,n)},".lang-switcher")),this.footNode=i.one(".foot"),this.bannerContainer=i.one(".foot-banner-container"),this.isBannerFixed=!1,this.registerEventHandler(e.globalEvents.subscribe("window:resize",this.updatePositioning.bind(this))),this.registerEventHandler(e.globalEvents.subscribe("window:scroll",this.updatePositioning.bind(this))),this.registerEventHandler(this.appContext.bannerManager.on("renderBanner",function(e){var t,i,r;if("footer"===e.placement)return t=e.bannerView,i=t.get("container"),(r=n.bannerContainer).empty(),r.appendChild(i),t.on("subviewActivated",function(){n.get("isCSSLoaded")&&n.updatePositioning()}),t.on("dismissed",function(){t.get("container").remove(),t.destroy(),n.get("isCSSLoaded")&&n.updatePositioning()}),t.normalizedActivate()})),this.onCSSLoaded(this.updatePositioning),this.registerEventHandler(e.on("globalNav:navDrawerClosed",function(){n.bannerContainer&&n.bannerContainer.removeClass("mobileDrawerOpen")})),this.registerEventHandler(e.on("globalNav:navDrawerOpen",function(){n.bannerContainer&&n.bannerContainer.addClass("mobileDrawerOpen")})),this},updateBannerPosition:function(t){var n=e.config.win.scrollY+e.config.win.innerHeight,i=this.footNode.getY();this.isBannerFixed&&n>=i?(this.bannerContainer.removeClass("fixed"),this.isBannerFixed=!1):!this.isBannerFixed&&n<i&&(this.bannerContainer.addClass("fixed"),this.isBannerFixed=!0)},updateBottomPadding:function(t){this.footerHeight=this.footNode.get("clientHeight"),e.one("#content").setStyle("padding-bottom",this.footerHeight+this.bannerContainer.get("clientHeight")-1)},updatePositioning:function(){this.updateBannerPosition(),this.updateBottomPadding(),e.fire("footerFull:positionUpdated")}})},"@VERSION@",{requires:["flickr-view","hermes-template-footer-full","url-helper","dropdown","fluid-droparound-view","footer-helper"],langBundles:["common","policy-terms"]});YUI.add("hermes-lang-policy-terms",function(o,O){o.Intl.add("hermes/policy-terms","en-US",{DOWNLOAD_TERMS_OF_SERVICE:["Download Terms of Service"],DOWNLOAD_PRIVACY_POLICY:["Download Privacy Policy"],DOWNLOAD_API_TERMS:["Download API Terms of Service"],DOWNLOAD_COMMUNITY_GUIDELINES:["Download Community Guidelines"],DOWNLOAD_COOKIE_POLICY:["Download Cookie Policy"],DOWNLOAD_DATA_PROCESSING_POLICY:["Download Data Processing Policy"],POLICIES_AND_GUIDELINES:["Policies & Guidelines"],TERMS:["Terms"],PRIVACY:["Privacy"],API:["API"],COMMUNITY:["Community"],COOKIES:["Cookies"],DATA_PROCESSING:["Data Processing"]})},"@VERSION@",{requires:["intl"]});YUI.add("safety-level-helper",function(e){e.SafetyHelper={getSafetyLevelString:function(e,r){return e=parseInt(e),"search"===r&&(e-=1),1===e?"moderate":2===e?"restricted":"safe"}}},"@VERSION@",{requires:[]});YUI.add("search-photos-unified-page-view",function(e){var i=e.url("/help/forum/en-us/72157651248603362/lastpage#reply"),a=244,s=require("hermes-core/type-validator");e.namespace("Views")[this.name]=e.Base.create("search-photos-unified-page-view",e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(i){var s;return this.appContext.flipper.isFlipped("enable-slender-advanced-search")&&(a=100),this.unifiedSubviewParams=i.unifiedSubviewParams||{},s=this.unifiedSubviewParams.everyone&&this.unifiedSubviewParams.everyone.fetchParams?this.unifiedSubviewParams.everyone.fetchParams.apiParams:{},this.searchUrl=new e.SearchUrl(s,this.appContext,e.SearchUrl.searchTypes.PHOTOS),this.apiParams=this.searchUrl.getAPIParams(),this.advancedPanelOpen=i.openAdvanced||!1,this.isMobile=i.isMobile,this.isSearchResultsOwnerPro=!1,this.searchTerm=i.searchTerm,this.apiFailed=i.apiFailed,i.sortMenuItems=this.buildSortMenuItems(this.apiParams,!this.appContext.flipper.isFlipped("enable-slender-advanced-search")),this},subviewConfig:{"global-nav-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!0,isSearchResults:!0},"search-subnav-slender-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0},"search-empty-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!0},"search-photos-yours-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,disabled:function(){return!this.unifiedSubviewParams.yours}},"search-photos-contacts-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,disabled:function(){return!this.unifiedSubviewParams.contacts}},"search-photos-albums-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,disabled:function(){return!this.unifiedSubviewParams.albums}},"search-slender-advanced-panel-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0},"search-photos-everyone-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,disabled:function(){return!this.unifiedSubviewParams.everyone}},"moola-search-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1,disabled:function(){return!this.appContext.flipper.isFlipped("enable-search-ads")||this.appContext.getViewer().isPro||!this.appContext.allowThirdPartyContent}},"feedback-widget-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!0,feedbackUrl:i,trackingSlk:"search-photos-feedback",hidden:!0},"signup-footer-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1,pageType:"search"},"footer-full-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!0}},loadState:function(){var i=this,a={};return this.apiFailed||!this.unifiedSubviewParams?e.Promise.resolve():(this.unifiedSubviewParams.everyone&&(a.everyone=this.appContext.getModel("search-photos-lite-models",this.unifiedSubviewParams.everyone.id,this.unifiedSubviewParams.everyone.fetchParams),this.searchUrl.getAPIParams().user_id&&(this.searchUrl.getAPIParams().user_id&&s.nsid(this.searchUrl.getAPIParams().user_id)?a.isSearchResultsOwnerPro=this.appContext.getModel("person-models",this.searchUrl.getAPIParams().user_id):a.isSearchResultsOwnerPro=this.appContext.getModel("person-models",{pathAlias:this.searchUrl.getAPIParams().user_id}))),this.unifiedSubviewParams.yours&&(a.yours=this.appContext.getModel("search-photos-lite-models",this.unifiedSubviewParams.yours.id,this.unifiedSubviewParams.yours.fetchParams)),this.unifiedSubviewParams.contacts&&(a.contacts=this.appContext.getModel("search-photos-lite-models",this.unifiedSubviewParams.contacts.id,this.unifiedSubviewParams.contacts.fetchParams)),this.unifiedSubviewParams.albums&&(a.albums=this.appContext.getModel("search-sets-models",this.unifiedSubviewParams.albums.id,this.unifiedSubviewParams.albums.fetchParams)),e.FlickrPromise(a).then(function(e){i.subviewVisibility=i.determineSubviewVisibility(e),i.subviewVisibility.empty&&(e.everyone&&!e.everyone.getValue("emptyQuery")||e.albums&&!e.albums.getValue("emptyQuery"))&&(i.subviews["search-empty-view"].set("noMatchesForQuery",i.buildNoMatchesFoundMessage()),i.subviews["search-empty-view"].fire("parentViewEvent","error-msg-updated")),e.isSearchResultsOwnerPro&&(i.isSearchResultsOwnerPro=e.isSearchResultsOwnerPro.getValue("isPro"))}))},buildContainer:function(){var i,a=this.appContext.flipper.isFlipped("enable-slender-advanced-search");return a&&this.subviews["search-slender-advanced-panel-view"]?this.advancedPanelVisible=this.subviews["search-slender-advanced-panel-view"].getStoredAdvancedOptionsState()||this.advancedPanelOpen:this.advancedPanelVisible=!1,i={useSlenderAdvancedPanel:a,showEmpty:!this.subviewVisibility||this.subviewVisibility.empty,showAlbums:this.subviewVisibility&&this.subviewVisibility.albums,showEveryones:this.subviewVisibility&&this.subviewVisibility.everyone,showContacts:this.subviewVisibility&&this.subviewVisibility.contacts,showYours:this.subviewVisibility&&this.subviewVisibility.yours,viewingAll:this.searchUrl.getAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll),advancedPanelVisible:this.advancedPanelVisible,searchResultsOwnerIsNotPro:!this.isSearchResultsOwnerPro},["search-empty-view","search-photos-yours-view","search-photos-albums-view","search-photos-contacts-view","search-photos-everyone-view"].forEach(function(e){this.subviews[e]&&(i[e]=this.subviews[e].get("container"))}.bind(this)),this.setContainerWithTemplate("search-photos-unified-page-view",i),this},activate:function(){return this.fire("parentViewEvent","unhideFeedbackWidget"),e.later(100,this,function(){e.use("photo-page-scrappy-view")}),this},determineSubviewVisibility:function(e){var i={everyone:!(!e.everyone||!e.everyone.getValue("totalItems")),yours:!(!e.yours||!e.yours.getValue("totalItems")),contacts:!(!e.contacts||!e.contacts.getValue("totalItems")),albums:!(!e.albums||!e.albums.getValue("totalItems"))};return!this.appContext.flipper.isFlipped("enable-similarity-search")&&this.unifiedSubviewParams&&this.unifiedSubviewParams.everyone&&this.unifiedSubviewParams.everyone.fetchParams&&this.unifiedSubviewParams.everyone.fetchParams.apiParams.similarity_id&&(i.everyone=!1),i.empty=!(i.everyone||i.yours||i.contacts||i.albums),i},buildSortMenuItems:function(i,a){var s=new e.SearchUrl(i,this.appContext).setSearchType(e.SearchUrl.searchTypes.PHOTOS);return[{text:this.intlMessage({intlName:"search.RELEVANT"}),value:e.SearchHelper.API_SORT_OPTIONS.relevant,href:a?s.setAPIParam("sort",e.SearchHelper.API_SORT_OPTIONS.relevant).getURL():null,isDefault:!0},{text:this.intlMessage({intlName:"search.DATE_UPLOADED"}),value:e.SearchHelper.API_SORT_OPTIONS.dateUploaded,href:a?s.setAPIParam("sort",e.SearchHelper.API_SORT_OPTIONS.dateUploaded).getURL():null},{text:this.intlMessage({intlName:"search.DATE_TAKEN"}),value:e.SearchHelper.API_SORT_OPTIONS.dateTaken,href:a?s.setAPIParam("sort",e.SearchHelper.API_SORT_OPTIONS.dateTaken).getURL():null},{text:this.intlMessage({intlName:"search.INTERESTING"}),value:e.SearchHelper.API_SORT_OPTIONS.interesting,href:a?s.setAPIParam("sort",e.SearchHelper.API_SORT_OPTIONS.interesting).getURL():null}]},buildNoMatchesFoundMessage:function(){var i,a,s=this.appContext.getViewer();return a=this.apiParams.user_id?s.signedIn&&this.apiParams.user_id===s.nsid?this.searchTerm?"search.NO_MATCHES_FOR_QUERY_TERM_CONTEXT_YOUR":"search.NO_MATCHES_FOR_QUERY_TERM_YOUR":this.searchTerm?"search.NO_MATCHES_FOR_QUERY_TERM_CONTEXT_USER":"search.NO_MATCHES_FOR_QUERY_TERM_USER":this.apiParams.contacts?this.searchTerm?"search.NO_MATCHES_FOR_QUERY_TERM_CONTEXT_CONTACTS":"search.NO_MATCHES_FOR_QUERY_TERM_CONTACTS":this.apiParams.group_id?this.searchTerm?"search.NO_MATCHES_FOR_QUERY_TERM_CONTEXT_GROUP":"search.NO_MATCHES_FOR_QUERY_TERM_GROUP":this.searchTerm?"search.NO_MATCHES_FOR_QUERY_TERM":"search.NO_MATCHES_FOR_QUERY",i=this.searchTerm?this.intlMessage({intlName:a,searchTerm:e.flutil.unescape(this.searchTerm)}):this.intlMessage({intlName:a}),{noMatchesText:i}},onSubviewEvent:function(e,i){if(i){switch(i[0]){case"dirty":case"search:dirty":this.get("container").addClass("dirty");break;case"bigScotch":this.bigScotch(i);break;case"footerDisplayChanged":this.fire("parentViewEvent","footerDisplayChanged");break;case"search:layoutChange":void 0!==i[1]&&this.fire("parentViewEvent","search:layoutChange",i[1]);break;case"search:startAdvancedPanelTransition":void 0!==i[1]&&this.handleAdvancedPanelTransitionStart(i[1]);break;case"search:finishAdvancedPanelTransition":void 0!==i[1]&&this.handleAdvancedPanelTransitionEnd(i[1]);break;default:i[2]&&"toggle-advanced"===i[2]&&this.toggleAdvancedSearch()}}},handleAdvancedPanelTransitionStart:function(i){var s=this.get("container").one("main");i?(!this.showEmpty&&e.config.win.pageYOffset>34||(s.addClass("advanced-panel-transition"),s.addClass("advanced-panel-visible"),e.flutil.onTransitionEnd(s,function(){s.removeClass("advanced-panel-transition")})),this.advancedPanelVisible=!0):(!this.showEmpty&&e.config.win.pageYOffset>a||(s.addClass("advanced-panel-transition"),s.removeClass("advanced-panel-visible"),e.flutil.onTransitionEnd(s,function(){s.removeClass("advanced-panel-transition")})),this.advancedPanelVisible=!1)},handleAdvancedPanelTransitionEnd:function(i){var s,t=this.get("container").one("main");i?!this.showEmpty&&e.config.win.pageYOffset>34&&(t.addClass("advanced-panel-visible"),window.scrollBy(0,a)):!this.showEmpty&&e.config.win.pageYOffset>a&&(s=Math.min(a,e.config.win.document.body.scrollHeight-e.config.win.innerHeight-e.config.win.pageYOffset),t.removeClass("advanced-panel-visible"),window.scrollBy(0,-s))},toggleAdvancedSearch:function(){this.advancedPanelVisible?this.closeAdvancedPanel():this.openAdvancedPanel()},updateDataLayer:function(){e.Analytics.setDataLayerProp("page.pageInfo.safetyLevel",e.SafetyHelper.getSafetyLevelString(this._params.modelParams.apiParams.safe_search,"search"))},openAdvancedPanel:function(){var i=this.get("container").one(".advanced-search-wrapper"),s=this.get("container").one("main");!this.showEmpty&&e.config.win.pageYOffset>34?(s.addClass("advanced-panel-opening"),i.removeClass("collapsed"),this.subviews["search-slender-advanced-panel-view"].fire("parentViewEvent","open-advanced"),this.advancedPanelVisible=!0,e.flutil.onTransitionEnd(i,function(){s.removeClass("advanced-panel-opening"),s.addClass("advanced-panel-visible"),window.scrollBy(0,a)})):(i.removeClass("collapsed"),s.addClass("advanced-panel-visible"),this.subviews["search-slender-advanced-panel-view"].fire("parentViewEvent","open-advanced"),this.advancedPanelVisible=!0)},closeAdvancedPanel:function(){var i,s=this.get("container").one(".advanced-search-wrapper"),t=this.get("container").one("main");!this.showEmpty&&e.config.win.pageYOffset>a?(t.addClass("advanced-panel-collapsing"),s.addClass("collapsed"),this.subviews["search-slender-advanced-panel-view"].fire("parentViewEvent","collapse-advanced"),this.advancedPanelVisible=!1,i=Math.min(a,e.config.win.document.body.scrollHeight-e.config.win.innerHeight-e.config.win.pageYOffset),e.flutil.onTransitionEnd(s,function(){t.removeClass("advanced-panel-collapsing"),t.removeClass("advanced-panel-visible"),window.scrollBy(0,-i)})):(s.addClass("collapsed"),t.removeClass("advanced-panel-visible"),this.subviews["search-slender-advanced-panel-view"].fire("parentViewEvent","collapse-advanced"),this.advancedPanelVisible=!1)},bigScotch:function(i){var a=i&&i[1],s=this.searchUrl.getAPIParam(e.SearchHelper.API.excludeUserId)||"";a&&(s&&(s+=","),s+=a,this.searchUrl.setAPIParam(e.SearchHelper.API.excludeUserId,s),this.appContext.flapp.navigate(this.searchUrl.getURL()))}},{ATTRS:{spaceid:{value:792600534}}})},"@VERSION@",{requires:["url","flutil","flickr-view","flickr-promise","search-helper","hermes-template-search-photos-unified-page-view","search-subnav-slender-view","search-empty-view","search-photos-albums-view","search-photos-yours-view","search-photos-contacts-view","moola-search-view","search-slender-advanced-panel-view","search-photos-everyone-view","search-url","feedback-widget-view","footer-full-view","querystring-stringify-simple","search-photos-lite-models","safety-level-helper"],langBundles:["search"]});